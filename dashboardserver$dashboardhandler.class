// Source code is decompiled from a .class file using FernFlower decompiler (from Intellij IDEA).
package backend;

import com.sun.net.httpserver.HttpExchange;
import com.sun.net.httpserver.HttpHandler;
import java.io.IOException;

class DashboardServer$DashboardHandler implements HttpHandler {
   DashboardServer$DashboardHandler() {
   }

   public void handle(HttpExchange var1) throws IOException {
      String var2 = "<!DOCTYPE html><html><head><title>Friends Network Dashboard</title><style>body{font-family:Arial;margin:0;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.container{max-width:1200px;margin:0 auto;padding:20px}.header{background:white;padding:20px;border-radius:15px;margin-bottom:20px;text-align:center;box-shadow:0 4px 8px rgba(0,0,0,0.1)}.dashboard{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.card{background:white;padding:20px;border-radius:15px;box-shadow:0 4px 8px rgba(0,0,0,0.1)}.graph-container{background:white;padding:20px;border-radius:15px;box-shadow:0 4px 8px rgba(0,0,0,0.1);height:500px;position:relative}.node{width:60px;height:60px;border-radius:50%;background:linear-gradient(45deg,#667eea,#764ba2);position:absolute;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;cursor:pointer;transition:transform 0.3s}.node:hover{transform:scale(1.2)}.connection{position:absolute;height:2px;background:#667eea;z-index:1}.stats{display:flex;justify-content:space-around;margin:20px 0}.stat{text-align:center}.stat-number{font-size:2em;font-weight:bold;color:#667eea}</style></head><body><div class='container'><div class='header'><h1>Friends Network Dashboard</h1><p>Visualize and manage your social connections</p></div><div class='dashboard'><div class='card'><h3>Network Statistics</h3><div class='stats'><div class='stat'><div class='stat-number' id='userCount'>0</div><div>Users</div></div><div class='stat'><div class='stat-number' id='connectionCount'>0</div><div>Connections</div></div></div></div><div class='card'><h3>Quick Actions</h3><button onclick='refreshGraph()' style='padding:10px 20px;margin:5px;background:#667eea;color:white;border:none;border-radius:5px;cursor:pointer'>Refresh Graph</button><br><button onclick='addRandomConnection()' style='padding:10px 20px;margin:5px;background:#764ba2;color:white;border:none;border-radius:5px;cursor:pointer'>Add Connection</button></div></div><div class='graph-container'><h3>Friends Graph Visualization</h3><div id='graphArea' style='position:relative;height:400px;border:2px dashed #ddd;border-radius:10px'></div></div></div><script>let friendsData = {};async function loadFriendsData(){const response = await fetch('/api/friends');friendsData = await response.json();updateStats();drawGraph();}function updateStats(){document.getElementById('userCount').textContent = friendsData.users.length;document.getElementById('connectionCount').textContent = friendsData.connections.length;}function drawGraph(){const graphArea = document.getElementById('graphArea');graphArea.innerHTML = '';const users = friendsData.users;const connections = friendsData.connections;const positions = {};const centerX = 300; const centerY = 150;const radius = 120;users.forEach((user, index) => {const angle = (index / users.length) * 2 * Math.PI;positions[user] = {x: centerX + radius * Math.cos(angle),y: centerY + radius * Math.sin(angle)};const node = document.createElement('div');node.className = 'node';node.textContent = user;node.style.left = positions[user].x - 30 + 'px';node.style.top = positions[user].y - 30 + 'px';node.onclick = () => alert('User: ' + user);graphArea.appendChild(node);});connections.forEach(conn => {const fromPos = positions[conn.from];const toPos = positions[conn.to];const line = document.createElement('div');line.className = 'connection';const length = Math.sqrt(Math.pow(toPos.x - fromPos.x, 2) + Math.pow(toPos.y - fromPos.y, 2));const angle = Math.atan2(toPos.y - fromPos.y, toPos.x - fromPos.x) * 180 / Math.PI;line.style.width = length + 'px';line.style.left = fromPos.x + 'px';line.style.top = fromPos.y + 'px';line.style.transform = 'rotate(' + angle + 'deg)';line.style.transformOrigin = '0 0';graphArea.appendChild(line);});}function refreshGraph(){loadFriendsData();}function addRandomConnection(){alert('Feature coming soon!');}loadFriendsData();</script></body></html>";
      var1.getResponseHeaders().set("Content-Type", "text/html");
      var1.sendResponseHeaders(200, (long)var2.getBytes().length);
      var1.getResponseBody().write(var2.getBytes());
      var1.getResponseBody().close();
   }
}
